{% load static %}
<section class="top-company-section">
  <!-- Universities Section -->
  <div class="top-company-company-conatiner">
    <div class="top-company-content1">
      <div class="top-company-company-slider1">
        <div class="top-company-companies1">
          <div class="top-company-company1">
            <div class="top-company-circle-conatiner1">
              <img src="{% static 'images/uni1.png' %}" alt="university">
            </div>
          </div>
          <div class="top-company-company1">
            <div class="top-company-circle-conatiner">
              <img src="{% static 'images/uni1.png' %}" alt="university">
            </div>
          </div>
          <div class="top-company-company1">
            <div class="top-company-circle-conatiner">
              <img src="{% static 'images/uni1.png' %}" alt="university">
            </div>
          </div>
          <div class="top-company-company1">
            <div class="top-company-circle-conatiner">
              <img src="{% static 'images/uni1.png' %}" alt="university">
            </div>
          </div>
          <div class="top-company-company1">
            <div class="top-company-circle-conatiner">
              <img src="{% static 'images/uni1.png' %}" alt="university">
            </div>
          </div>
          <div class="top-company-company1">
            <div class="top-company-circle-conatiner">
              <img src="{% static 'images/uni1.png' %}" alt="university">
            </div>
          </div>
          <div class="top-company-company1">
            <div class="top-company-circle-conatiner">
              <img src="{% static 'images/uni1.png' %}" alt="university">
            </div>
          </div>
          <div class="top-company-company1">
            <div class="top-company-circle-conatiner1">
              <img src="{% static 'images/uni1.png' %}" alt="university">
            </div>
          </div>
          <div class="top-company-company1">
            <div class="top-company-circle-conatiner">
              <img src="{% static 'images/uni1.png' %}" alt="university">
            </div>
          </div>
        </div>
      </div>
      <div class="top-company-header-mn">
        <img src="{% static 'images/corporate (1).png' %}" alt="university">
        <div class="top-company-header1">Top <span> Universities </span></div>
      </div>
    </div>
    <div class="top-company-com-lower1">Trusted by 1k+ Universities all over the globe</div>
  </div>

  <hr>

  <!-- Companies Section -->
  <div class="top-company-company-conatiner">
    <div class="top-company-content">
      <img src="/static/images/corporate%20(1).png" alt="university" class="hire">
      <div class="top-company-header">Top <br>Companies</div>
      <div class="top-company-company-slider">
        <div class="top-company-companies">
          <!-- Original Slides -->
          <div class="top-company-company">
            <span class="top-company-job-count">20+ Jobs</span>
            <div class="top-company-circle-conatiner">
              <img src="{% static 'images/google.png' %}" alt="Google">
            </div>
          </div>
          <div class="top-company-company">
            <span class="top-company-job-count">20+ Jobs</span>
            <div class="top-company-circle-conatiner">
              <img src="{% static 'images/infosys.png' %}" alt="Infosys">
            </div>
          </div>
          <div class="top-company-company">
            <span class="top-company-job-count">20+ Jobs</span>
            <div class="top-company-circle-conatiner">
              <img src="{% static 'images/infosys.png' %}" alt="Deloitte">
            </div>
          </div>
          <div class="top-company-company">
            <span class="top-company-job-count">20+ Jobs</span>
            <div class="top-company-circle-conatiner">
              <img src="{% static 'images/infosys.png' %}" alt="jtc">
            </div>
          </div>
          <div class="top-company-company">
            <span class="top-company-job-count">20+ Jobs</span>
            <div class="top-company-circle-conatiner">
              <img src="{% static 'images/infosys.png' %}" alt="Infosys">
            </div>
          </div>
          <div class="top-company-company">
            <span class="top-company-job-count">20+ Jobs</span>
            <div class="top-company-circle-conatiner">
              <img src="{% static 'images/jtc.png' %}" alt="jtc">
            </div>
          </div>
          <div class="top-company-company">
            <span class="top-company-job-count">20+ Jobs</span>
            <div class="top-company-circle-conatiner">
              <img src="{% static 'images/d.png' %}" alt="Deloitte">
            </div>
          </div>
          <div class="top-company-company">
            <span class="top-company-job-count">20+ Jobs</span>
            <div class="top-company-circle-conatiner">
              <img src="{% static 'images/infosys.png' %}" alt="Infosys">
            </div>
          </div>
          <div class="top-company-company">
            <span class="top-company-job-count">20+ Jobs</span>
            <div class="top-company-circle-conatiner">
              <img src="{% static 'images/google.png' %}" alt="Google">
            </div>
          </div>
          <div class="top-company-company">
            <span class="top-company-job-count">20+ Jobs</span>
            <div class="top-company-circle-conatiner">
              <img src="{% static 'images/google.png' %}" alt="Infosys">
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="top-company-com-lower">Trusted by 1k+ Companies all over the globe</div>
  </div>
</section>

<!-- JavaScript for the Infinite Slider -->
<script>
    document.addEventListener('DOMContentLoaded', function() {
      const sliderTrack = document.querySelector('.top-company-company-slider .top-company-companies');
      
      // Duplicate the original slides for a seamless loop
      const originalSlides = Array.from(sliderTrack.children);
      originalSlides.forEach(slide => {
        sliderTrack.appendChild(slide.cloneNode(true));
      });
      
      // Compute the full width of one slide (including margin)
      const firstSlide = originalSlides[0];
      const slideStyle = window.getComputedStyle(firstSlide);
      const slideWidth = firstSlide.offsetWidth + parseInt(slideStyle.marginRight);
      const totalOriginalSlides = originalSlides.length;
      
      let currentTranslate = 0;
      let lastTimestamp = null;
      // Adjust this speed (in pixels per millisecond) as needed; here 0.05 means 50px/sec
      const speedPxPerMs = 0.05;
      
      function animate(timestamp) {
        if (!lastTimestamp) lastTimestamp = timestamp;
        const delta = timestamp - lastTimestamp;
        lastTimestamp = timestamp;
        
        currentTranslate += speedPxPerMs * delta;
        
        // When we've scrolled through all original slides, subtract their total width
        if (currentTranslate >= totalOriginalSlides * slideWidth) {
          currentTranslate -= totalOriginalSlides * slideWidth;
        }
        
        sliderTrack.style.transform = `translateX(-${currentTranslate}px)`;
        
        requestAnimationFrame(animate);
      }
      
      requestAnimationFrame(animate);
    });
    </script>
    