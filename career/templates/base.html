{% load static %}
<html>
<head>
  <title>{% block title %}Welcome | ReaderClub, We always learn..{% endblock %}</title>
    <link rel="stylesheet" href="/static/css/index.css">
    <!-- Auth Modals CSS -->
    <link rel="stylesheet" href="{% static 'css/login.css' %}">
    <link rel="stylesheet" href="{% static 'css/forgot_password.css' %}">
    <!-- Pop-Up CSS -->
    <link rel="stylesheet" href="{% static 'css/popup.css' %}">
    {% block extra_css %}
    {% endblock %}

    <script src="{% static 'js/auth.js' %}"></script>
    <script src="{% static 'js/forgot_password.js' %}"></script>

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="{% static 'assets/favicon.ico' %}">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">

    <meta property="og:title" content="Welcome | ReaderClub, We always learn.." />
    <meta property="og:description" content="Discover the best in campus-to-corporate opportunities!" />
    <meta property="og:image" content="{% static 'assets/footer.png' %}" />
    <meta property="og:url" content="{{ request.build_absolute_uri }}" />
    <meta property="og:type" content="website" />  
</head>

<body>
  <header>
    <a href="/"><img src="{% static 'image/career-header.svg' %}" class="discover-logo" alt=""></a>
    <div class="buttons">
        {% if request.session.user_id %}
            <a href="{% url 'job_page' %}"><button class="find-job">Find Job</button></a>
            <a href="{% url 'maintenance_view' %}"> <button class="hire-talent">Hire Talent</button></a>
        {% else %}
        <!-- Sign Up & Log In Buttons -->
        <div class="login">
          <button onclick="openModal('login')">Login</button>
        </div>
        <div class="signup">
          <button onclick="openModal('signup')">Sign Up</button>
        </div>
        {% endif %}
    </div>
</header>


<div class="main-content">
    {% block content %}
    {% endblock %}
</div>

{% comment %} {% include '' %} {% endcomment %}

<section id="page-5">
    <footer class="footer">
      <!-- First Row: main links -->
      <div class="footer-container">
        <div class="footer-left">
          <img src="{% static 'image/footer.png' %}" alt="Icon">
        </div>
        <div class="footer-links">
          <p class="footer-para">Useful Links</p>
          <ul>
            <li><a href="{% url 'about_us' %}" class="no-underline">About Us</a></li>
            <li><a href="{% url 'maintenance_view' %}" onclick="handleAuthCheck(event, '{% url 'maintenance_view' %}')" class="no-underline">Contact Us</a></li>
            <li><a href="{% url 'maintenance_view' %}" onclick="handleAuthCheck(event, '{% url 'maintenance_view' %}')" class="no-underline">Blogs</a></li>
            <li><a href="{% url 'maintenance_view' %}" onclick="handleAuthCheck(event, '{% url 'maintenance_view' %}')" class="no-underline">Career</a></li>
            <li><a href="{% url 'privacy_policy' %}" class="no-underline">Privacy Policy</a></li>
            <li><a href="{% url 'terms_and_conditions' %}" class="no-underline">Terms &amp; Conditions</a></li>
            <li><a href="{% url 'maintenance_view' %}" onclick="handleAuthCheck(event, '{% url 'maintenance_view' %}')" class="no-underline">Child Policy</a></li>
          </ul>
        </div>
        <div class="footer-practice">
          <p class="footer-para">Job categories</p>
          <ul>
            <li><a href="{% url 'maintenance_view' %}" onclick="handleAuthCheck(event, '{% url 'maintenance_view' %}')">IT &amp; Software</a></li>
            <li><a href="{% url 'maintenance_view' %}" onclick="handleAuthCheck(event, '{% url 'maintenance_view' %}')">Management &amp; Business</a></li>
            <li><a href="{% url 'maintenance_view' %}" onclick="handleAuthCheck(event, '{% url 'maintenance_view' %}')">Sales &amp; Marketing</a></li>
            <li><a href="{% url 'maintenance_view' %}" onclick="handleAuthCheck(event, '{% url 'maintenance_view' %}')">Content &amp; Creative</a></li>
          </ul>
        </div>
        <div class="footer-ccc">
          <div class="footer-top">
            <p class="footer-para">Job &amp; Opportunities</p>
            <ul class="footer-iii">
              <li><a href="{% url 'maintenance_view' %}" onclick="handleAuthCheck(event, '{% url 'maintenance_view' %}')">Full time jobs</a></li>
              <li><a href="{% url 'maintenance_view' %}" onclick="handleAuthCheck(event, '{% url 'maintenance_view' %}')">Part time jobs</a></li>
              <li><a href="{% url 'maintenance_view' %}" onclick="handleAuthCheck(event, '{% url 'maintenance_view' %}')">Remote jobs</a></li>
              <li><a href="{% url 'maintenance_view' %}" onclick="handleAuthCheck(event, '{% url 'maintenance_view' %}')">Work from home jobs</a></li>
              <li><a href="{% url 'maintenance_view' %}" onclick="handleAuthCheck(event, '{% url 'maintenance_view' %}')">Internships</a></li>
              {% comment %} <li class="footer-i"><a href="compile_code.html">JS Compiler</a></li> {% endcomment %}
            </ul>
          </div>
        </div>
        <div class="footer-practice">
          <p class="footer-para">Contact US</p>
          <ul class="social-links">
            <li><i class="fa fa-phone"></i> +91-9911775525</li>
            <li><i class="fa fa-envelope"></i> contact@readerclub.in</li>
            <li><i class="fa-solid fa-location-dot"></i> G1, Plot No. A-61, Sector-16, Noida, Gautam Buddh Nagar, UP 201301</li>
          </ul>
        </div>
      </div>
      <!-- Second Row: HR + base row -->
      <div class="footer-container footer-column">
        <hr class="footer-line">
        <div class="footer-base">
          <p>Â© 2018-25 Readerclub. All rights reserved</p>
          <!-- Footer Logos commented out -->
        </div>
      </div>
    </footer>
  </section>

  <!-- MODAL (LOGIN/SIGNUP) -->
  <div id="Modal" class="modal" style="display: none;">
    <div class="container" id="popupContainer">
      <!-- Header that changes via JS -->
      <div class="header" style="margin-bottom:8px;">
        JOIN US<br>
        <small>Login to continue</small>
      </div>

      <!-- Tab Buttons -->
      <div class="tabs" style="margin-bottom: 10px;">
        <button id="loginTab" class="tab-button active" onclick="switchTab('login')">Login</button>
        <button id="signupTab" class="tab-button" onclick="switchTab('signup')">Signup</button>
      </div>

      <!-- Partial Templates for Each Form -->
      {% include 'login.html' %}
      {% include 'signup.html' %}

    </div>
  </div>
  {% include 'forgot_password.html' %}

  <!-- "Please Sign-in" Pop-up -->
  <div id="authPopUp" class="popup-overlay">
    <div class="popup-box">
      <img src="{% static 'image/padlock.png' %}" alt="Lock" class="popup-lock">
      <h2>Please Sign-in to continue</h2>
      <p>You need to be logged in to access this page.</p>
      <div class="popup-buttons">
        <a href="javascript:history.back()" class="go-back-button-maintenence">Go Back</a>
        {% comment %} <button class="login-btn" onclick="showLoginModal()">Go back</button> {% endcomment %}
        {% comment %} <button class="signup-btn" onclick="showSignupModal()">Signup</button> {% endcomment %}
      </div>
    </div>
  </div>

{% block extra_js %}
<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Check if we should show the login form based on form_type
    {% if form_type == 'login' %}
      openModal('login');
    {% elif form_type == 'signup' %}
      openModal('signup');
    {% endif %}
  });
  document.addEventListener('DOMContentLoaded', function() {
    // If the query param says ?form_type=login, open the pop-up
    const params = new URLSearchParams(window.location.search);
    if (params.get('form_type') === 'login') {
      openModal('login');
    }
  });
</script>
{% endblock %}
</body>
</html>